@echo off
chcp 65001 > nul
echo ==========================================
echo          üß™ –ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í
echo ==========================================
echo.

cd UnitTests

echo üì¶ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞...
dotnet build --verbosity quiet
if %ERRORLEVEL% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏!
    exit /b 1
)

echo üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...
echo ==========================================
echo.

dotnet test --no-build --verbosity quiet --logger "trx;LogFileName=testresults.trx" > nul

if %ERRORLEVEL% equ 0 (
    echo ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–®–õ–ò –£–°–ü–ï–®–ù–û!
    echo.
    echo üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´:
    echo ==========================================
    echo üü¢ TestEncryptTrue    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–ª—é—á–æ–º
    echo üü¢ TestEncryptFalse   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –∫–ª—é—á–æ–º
    echo üü¢ TestDecryptTrue    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–ª—é—á–æ–º
    echo üü¢ TestDecryptFalse   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –∫–ª—é—á–æ–º
    echo üü¢ TestTokenTrue      - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    echo üü¢ TestTokenFalse     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—É–¥–∞—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    echo ==========================================
    echo üìà –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 6 | –£—Å–ø–µ—à–Ω–æ: 6 | –ù–µ—É–¥–∞—á–Ω–æ: 0
) else (
    echo ‚ùå –ù–ï–ö–û–¢–û–†–´–ï –¢–ï–°–¢–´ –ù–ï –ü–†–û–®–õ–ò!
)

echo.
echo ==========================================
pause